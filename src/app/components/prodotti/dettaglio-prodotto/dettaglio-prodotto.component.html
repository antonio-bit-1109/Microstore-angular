<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="mb-4">
        <i (click)="goBack()" style="font-size: 4rem" class="pi pi-arrow-left arrow-color pointer"></i>
      </div>
    </div>
  </div>

  <div class="row-wrapper my-3">
    <div *ngIf="prodotto?.is_active === 'true'; else prodNonDisponibile" class="row">
      <div class="col-md-8">
        <div class="card shadow-sm">
          <img class="maxheigth" [src]="prodotto?.image_url" [alt]="prodotto?.description" />
        </div>
      </div>

      <div class="col-md-4">
        <div class="card p-3 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ prodotto?.name }}</h5>
            <p class="card-text">{{ prodotto?.description }}</p>
            <p class="card-text">
              <strong>Prezzo:</strong> ${{ prodotto?.prezzo }}
            </p>
            <p class="card-text">
              <strong>Quantità rimasta:</strong> {{ prodotto?.stock }}
            </p>

            <div class="d-flex">
              <strong>Disponibilità:</strong>
              <div [ngStyle]="{
                border: '2px solid ' + isAvailable(prodotto?.is_active)[2],
                'background-color': isAvailable(prodotto?.is_active)[2]
              }" class="tondino ms-2"></div>
            </div>

            <button [disabled]="!isAvailable(prodotto?.is_active)[1]" class="btn btn-primary btn-block mt-3">
              Aggiungi al carrello
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #prodNonDisponibile>
    <div class="row justify-content-end">
      <div class="col-6">
        <div class="d-flex justify-content-end ms-auto w-75">
          <div class="alert alert-danger w-100 d-flex justify-content-center">
            prodotto non disponibile.
          </div>
        </div>
      </div>

    </div>
    <div class="row greyLike">
      <div class="col-md-8">
        <div class="card shadow-sm">
          <img class="maxheigth" [src]="prodotto?.image_url" [alt]="prodotto?.description" />
        </div>
      </div>

      <div class="col-md-4">
        <div class="card p-3 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ prodotto?.name }}</h5>
            <p class="card-text">{{ prodotto?.description }}</p>
            <p class="card-text">
              <strong>Prezzo:</strong> ${{ prodotto?.prezzo }}
            </p>
            <p class="card-text">
              <strong>Quantità rimasta:</strong> {{ prodotto?.stock }}
            </p>

            <div class="d-flex">
              <strong>Disponibilità:</strong>
              <div [ngStyle]="{
                  border: '2px solid ' + isAvailable(prodotto?.is_active)[2],
                  'background-color': isAvailable(prodotto?.is_active)[2]
                }" class="tondino ms-2"></div>
            </div>

            <button [disabled]="!isAvailable(prodotto?.is_active)[1]" class="btn btn-primary btn-block mt-3">
              Aggiungi al carrello
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>


</div>